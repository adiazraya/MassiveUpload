// Download Account IDs after creation
System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
System.debug('ğŸ“¥ EXPORTING ACCOUNT IDS');
System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

// First check how many accounts were created
Integer accountCount = [
    SELECT COUNT() 
    FROM Account 
    WHERE FirstName LIKE 'acc_test_massive_%'
];

System.debug('');
System.debug('Accounts found: ' + accountCount);

if (accountCount == 0) {
    System.debug('');
    System.debug('âš ï¸  No accounts found!');
    System.debug('Run start_account_creation.apex first');
} else if (accountCount < 2000000) {
    System.debug('âš ï¸  Only ' + accountCount + ' accounts created so far');
    System.debug('Wait for account creation to complete');
    System.debug('Target: 2,000,000 accounts');
} else {
    System.debug('âœ… All accounts created!');
    System.debug('');
    System.debug('Starting export...');
    
    // Start export batch
    Database.executeBatch(new AccountIDExporter(), 200);
    
    System.debug('');
    System.debug('Export started in background');
    System.debug('Check debug logs for CSV output');
}

System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');




