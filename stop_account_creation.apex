// Stop all MassiveAccountCreator jobs
System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
System.debug('ğŸ›‘ STOPPING ALL ACCOUNT CREATION JOBS');
System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

// Find all running/queued MassiveAccountCreator jobs
List<AsyncApexJob> jobsToAbort = [
    SELECT Id, Status, ApexClass.Name
    FROM AsyncApexJob 
    WHERE ApexClass.Name = 'MassiveAccountCreator'
    AND Status IN ('Queued', 'Processing', 'Preparing')
];

System.debug('');
System.debug('Found ' + jobsToAbort.size() + ' jobs to abort');
System.debug('');

Integer abortedCount = 0;
for (AsyncApexJob job : jobsToAbort) {
    try {
        System.abortJob(job.Id);
        System.debug('âœ“ Aborted job: ' + job.Id);
        abortedCount++;
    } catch (Exception e) {
        System.debug('âœ— Failed to abort job ' + job.Id + ': ' + e.getMessage());
    }
}

System.debug('');
System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
System.debug('âœ… STOPPED ' + abortedCount + ' JOBS');
System.debug('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

// Count how many accounts were created before stopping
Integer accountCount = [
    SELECT COUNT() 
    FROM Account 
    WHERE FirstName = 'Test' AND LastName LIKE 'Massive_%'
];

System.debug('');
System.debug('Accounts created before stopping: ' + accountCount);
System.debug('');




